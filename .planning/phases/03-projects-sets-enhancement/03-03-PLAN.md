---
phase: 03-projects-sets-enhancement
plan: 03
type: execute
wave: 2
depends_on: ["03-01", "03-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Projects appear correctly in UI (listing/filtering works)"
    - "Project Detail page implements ViewEditToggle with IBM Carbon styling"
    - "Projects have expected/actual start/end date pickers that save correctly"
    - "Projects have Lead, Secondary Lead, PM dropdowns that save correctly"
    - "Set Detail page implements ViewEditToggle with IBM Carbon styling"
    - "Sets have expected/actual start/end date fields that save correctly"
    - "Sets have budget_days and budget_hours fields that save correctly"
    - "All detail pages use full-page views, not modals"
    - "Parent relationships are editable via searchable dropdowns in Edit Mode"
  artifacts:
    - path: "src/pages/projects/ProjectDetailPage.tsx"
      provides: "Project detail with ViewEditToggle and team dropdowns"
      contains: "SearchableSelect"
    - path: "src/pages/sets/SetDetailPage.tsx"
      provides: "Set detail with ViewEditToggle, dates, budget, team"
      contains: "budget_hours"
  key_links:
    - from: "src/pages/projects/ProjectDetailPage.tsx"
      to: "/api/projects"
      via: "updateProject.mutateAsync"
      pattern: "updateProject"
    - from: "src/pages/sets/SetDetailPage.tsx"
      to: "/api/sets"
      via: "updateSet.mutateAsync"
      pattern: "updateSet"
---

<objective>
Verify all Phase 3 requirements are complete and working.

Purpose: Phase 3 enhances Projects and Sets with full-page views, ViewEditToggle, dates, roles, and budget fields. This verification plan confirms all 9 success criteria from the ROADMAP are met before marking the phase complete.

Output: Human verification that all Phase 3 features work correctly.
</objective>

<execution_context>
@/Users/ayazmohammed/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ayazmohammed/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-projects-sets-enhancement/03-01-SUMMARY.md
@.planning/phases/03-projects-sets-enhancement/03-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 3 implementation:
- Plan 01: Added editable team member dropdowns to ProjectDetailPage
- Plan 02: Added budget_days and budget_hours fields to Sets (schema + UI)
- Existing: ViewEditToggle, date fields, IBM Carbon styling already present

All 9 success criteria from ROADMAP should now be met.
  </what-built>
  <how-to-verify>
**Pre-requisite: Run migration if not already done:**
1. Open Supabase Dashboard -> SQL Editor
2. Run: `supabase/migrations/019_sets_budget_fields.sql`
3. Run: `supabase/refresh-schema-cache.sql`

**Verification Steps (run `npm run dev` first):**

**Projects Verification (PROJ-01, PROJ-02, PROJ-03, PROJ-04, UI-01):**
1. Navigate to /projects - verify projects list loads correctly
2. Click on any project to open /projects/:id
3. Verify page uses full-page view (not modal) with IBM Carbon styling (#f4f4f4 background)
4. Click Edit button - verify ViewEditToggle activates
5. In Details tab, verify Schedule section has 4 date pickers:
   - Expected Start Date
   - Expected End Date
   - Actual Start Date
   - Actual End Date
6. In Details tab, verify Team section has 3 searchable dropdowns:
   - Lead (with search, clearable)
   - Secondary Lead (with search, clearable)
   - Project Manager (with search, clearable)
7. Select team members and save - verify they persist on refresh
8. Click Cancel - verify form resets without saving

**Sets Verification (SET-01, SET-02, SET-03, UI-02):**
1. Navigate to /sets or any set detail page /sets/:id
2. Verify page uses full-page view with IBM Carbon styling
3. Click Edit button - verify ViewEditToggle activates
4. In Details tab, verify Schedule section has 4 date pickers:
   - Expected Start
   - Expected End
   - Actual Start
   - Actual End
5. In Details tab, verify Budget section has 2 number inputs:
   - Budget Days (integer, step 1)
   - Budget Hours (decimal, step 0.25)
6. In Details tab, verify Team section has 3 searchable dropdowns:
   - Lead
   - Secondary Lead
   - Project Manager
7. Edit budget values and save - verify they persist on refresh
8. Verify Client and Project dropdowns are editable in Set Information section

**Requirements Verification (UI-03):**
1. Navigate to /requirements/:id
2. Verify page uses full-page view (not modal) with IBM Carbon styling
3. Verify ViewEditToggle works (Edit button toggles to Save/Cancel)

**Parent Relationship Editing (UI-05):**
1. On SetDetailPage, verify Client dropdown is editable
2. On SetDetailPage, verify Project dropdown is editable and filters by selected client
3. Verify cascade: changing client resets project if incompatible

**Expected Results:**
- All pages load without errors
- Edit Mode shows form inputs (dropdowns, date pickers, number fields)
- View Mode shows formatted values (avatars, dates, numbers)
- Changes persist to database on save
- Cancel reverts to original values
  </how-to-verify>
  <resume-signal>
Type "approved" if all 9 success criteria pass.
Or describe any issues found for follow-up.
  </resume-signal>
</task>

</tasks>

<verification>
Human has verified all Phase 3 requirements against ROADMAP success criteria.
</verification>

<success_criteria>
All 9 Phase 3 success criteria from ROADMAP verified:
1. Projects appear correctly in UI (listing/filtering works)
2. Project Detail page implements ViewEditToggle with IBM Carbon styling
3. Projects have expected/actual start/end date pickers
4. Projects have Lead, Secondary Lead, PM dropdowns with user lookup
5. Set Detail page implements ViewEditToggle with IBM Carbon styling
6. Sets have expected/actual start/end date fields
7. Sets have budget_days and budget_hours fields
8. All detail pages use full-page views, not modals
9. Parent relationships editable via searchable dropdowns in Edit Mode
</success_criteria>

<output>
After completion, create `.planning/phases/03-projects-sets-enhancement/03-03-SUMMARY.md`
</output>
